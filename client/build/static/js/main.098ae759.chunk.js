(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(28),o=n.n(s),i=(n(35),n(36),n(2)),l=n(10),r=n(9),j=n.n(r),d=n(4),b=n(0),u=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){j.a.get("http://localhost:8000/api").then((function(e){s(e.data.sort((function(e,t){return e.name.localeCompare(t.name)})))})).catch((function(e){console.log(e)}))}),[]);return Object(b.jsxs)("div",{className:"w-25 p-4 rounded shadow",children:[Object(b.jsx)(d.b,{to:"/new",children:"Add an author"}),Object(b.jsx)("p",{children:"We have quotes by:"}),Object(b.jsxs)("table",{className:"table table-striped",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Author"}),Object(b.jsx)("th",{children:"Actions available"})]})}),Object(b.jsx)("tbody",{children:a.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(d.b,{to:"/edit/".concat(e._id),children:Object(b.jsx)("p",{children:e.name})})}),Object(b.jsxs)("td",{children:[Object(b.jsx)(d.b,{to:"/edit/".concat(e._id),className:"btn btn-sm btn-outline-warning mx-1",children:"Edit"}),Object(b.jsx)("button",{onClick:function(t){var n;n=e._id,j.a.delete("http://localhost:8000/api/"+n).then((function(e){var t=a.filter((function(e){return e._id!==n}));s(t)})).catch((function(e){console.log(e.response)}))},className:"btn btn-sm btn-outline-danger mx-1",children:"Delete"})]})]},e._id)}))})]})]})},h=function(e){var t,n=Object(c.useState)(""),a=Object(l.a)(n,2),s=a[0],o=a[1],r=Object(c.useState)(null),u=Object(l.a)(r,2),h=u[0],O=u[1],x=Object(i.f)();return Object(b.jsxs)("div",{className:"w-25 p-4 rounded shadow",children:[Object(b.jsx)(d.b,{to:"/",children:"Home"}),Object(b.jsx)("p",{children:"Add a new author:"}),Object(b.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t={name:s};j.a.post("http://localhost:8000/api",t).then((function(e){console.log(e.data),x.push("/")})).catch((function(e){O(e.response.data.errors),console.log(e.response)}))}(e)},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Name:"}),(null===h||void 0===h?void 0:h.name)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===h||void 0===h||null===(t=h.name)||void 0===t?void 0:t.message]}),Object(b.jsx)("input",{onChange:function(e){o(e.target.value)},type:"text",className:"form-control"})]}),Object(b.jsx)(d.b,{to:"/",className:"btn btn-sm btn-outline-warning mx-1",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-sm btn-outline-success",children:"Submit"})]})]})},O=n(13),x=n(18),m=function(e){var t,n=Object(c.useState)(null),a=Object(l.a)(n,2),s=a[0],o=a[1],r=Object(c.useState)(null),u=Object(l.a)(r,2),h=u[0],m=u[1],f=Object(i.f)(),p=Object(i.g)().id;Object(c.useEffect)((function(){j.a.get("http://localhost:8000/api/"+p).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[p]);return null===s?Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{className:"text-danger",children:"We're sorry, but we could not find the author you are looking for. Would you like to add this author to our database?"}),Object(b.jsx)(d.b,{to:"/new",children:"Add an author"})]}):Object(b.jsxs)("div",{className:"w-25 p-4 rounded shadow",children:[Object(b.jsx)(d.b,{to:"/",children:"Home"}),Object(b.jsx)("p",{children:"Edit this author"}),Object(b.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault(),j.a.put("http://localhost:8000/api/edit/"+s._id,s).then((function(e){console.log(e.data),f.push("/")})).catch((function(e){m(e.response.data.errors),console.log(e.response)}))}(e)},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"h6",children:"Name"}),(null===h||void 0===h?void 0:h.name)&&Object(b.jsxs)("span",{className:"text-danger",children:[" ",null===h||void 0===h||null===(t=h.name)||void 0===t?void 0:t.message]}),Object(b.jsx)("input",{onChange:function(e){!function(e){var t=e.target.name,n=e.target.value;o(Object(x.a)(Object(x.a)({},s),{},Object(O.a)({},t,n)))}(e)},type:"text",className:"form-control",value:s.name,name:"name"})]}),Object(b.jsx)(d.b,{to:"/",className:"btn btn-sm btn-outline-warning mx-1",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-sm btn-outline-success",children:"Submit"})]})]})},f=function(e){return Object(b.jsx)("div",{children:"Page not found ... "})};var p=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Favorite authors"}),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",children:Object(b.jsx)(u,{})}),Object(b.jsx)(i.a,{exact:!0,path:"/new",children:Object(b.jsx)(h,{})}),Object(b.jsx)(i.a,{exact:!0,path:"/edit/:id",children:Object(b.jsx)(m,{})}),Object(b.jsx)(i.a,{component:f})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};n(62);o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(p,{})})}),document.getElementById("root")),v()}},[[63,1,2]]]);
//# sourceMappingURL=main.098ae759.chunk.js.map